@model DirectAgents.Web.Areas.ProgAdmin.Models.FacebookLatestsInfoVm
@{
    ViewBag.Title = "Facebook Latests Stats";

    var yesterday = DateTime.Today.AddDays(-1);
}

<h2>Facebook Latests Stats</h2>

<table>
    <tr>
        <th colspan="3" style="text-align:right">X = disabled</th>
        <th colspan="2">Daily</th>
        <th colspan="2">Campaigns</th>
        <th colspan="2">AdSet</th>
        <th colspan="2">AdSetsActions</th>
        <th colspan="2">Ads</th>
        <th colspan="2">AdsActions</th>
    </tr>
    <tr>
        <th style="text-align:right">ID</th>
        <th colspan="2">External&nbsp;Account&nbsp;&nbsp;&nbsp;</th>
        <th>Earliest</th>
        <th>Latest</th>

        <th>Earliest</th>
        <th>Latest</th>

        <th>Earliest</th>
        <th>Latest</th>

        <th>Earliest</th>
        <th>Latest</th>

        <th>Earliest</th>
        <th>Latest</th>

        <th>Earliest</th>
        <th>Latest</th>
    </tr>
    @foreach (var accountSummary in Model.LatestsInfo)
    {

    <tr>
        <td style="text-align: right">@accountSummary.Account.Id</td>
        <td>@accountSummary.Account.Name</td>
        <td style="text-align: center">@(accountSummary.Account.Disabled ? "X" : "")</td>

        @if (accountSummary.DailyLatestsInfo != null)
        {
            <td style="text-align: right">@accountSummary.DailyLatestsInfo.EarliestDate.ToShortDateString()</td>
            <td style="text-align: right">@accountSummary.DailyLatestsInfo.LatestDate.ToShortDateString()</td>
        }
        else
        {
            <td style="text-align: right"></td>
            <td style="text-align: right"></td>
        }

        @if (accountSummary.CampaignLatestsInfo != null)
        {
            <td style="text-align: right">@accountSummary.CampaignLatestsInfo.EarliestDate.ToShortDateString()</td>
            <td style="text-align: right">@accountSummary.CampaignLatestsInfo.LatestDate.ToShortDateString()</td>
        }
        else
        {
            <td style="text-align: right"></td>
            <td style="text-align: right"></td>
        }

        @if (accountSummary.AdsetsLatestsInfo != null)
        {
            <td style="text-align: right">@accountSummary.AdsetsLatestsInfo.EarliestDate.ToShortDateString()</td>
            <td style="text-align: right">@accountSummary.AdsetsLatestsInfo.LatestDate.ToShortDateString()</td>
        }
        else
        {
            <td style="text-align: right"></td>
            <td style="text-align: right"></td>
        }

        @if (accountSummary.AdsetsActionsLatestsInfo != null)
        {
            <td style="text-align: right">@accountSummary.AdsetsActionsLatestsInfo.EarliestDate.ToShortDateString()</td>
            <td style="text-align: right">@accountSummary.AdsetsActionsLatestsInfo.LatestDate.ToShortDateString()</td>
        }
        else
        {
            <td style="text-align: right"></td>
            <td style="text-align: right"></td>
        }

        @if (accountSummary.AdsLatestsInfo != null)
        {
            <td style="text-align: right">@accountSummary.AdsLatestsInfo.EarliestDate.ToShortDateString()</td>
            <td style="text-align: right">@accountSummary.AdsLatestsInfo.LatestDate.ToShortDateString()</td>
        }
        else
        {
            <td style="text-align: right"></td>
            <td style="text-align: right"></td>
        }

        @if (accountSummary.AdsActionsLatestsInfo != null)
        {
            <td style="text-align: right">@accountSummary.AdsActionsLatestsInfo.EarliestDate.ToShortDateString()</td>
            <td style="text-align: right">@accountSummary.AdsActionsLatestsInfo.LatestDate.ToShortDateString()</td>
        }
        else
        {
            <td style="text-align: right"></td>
            <td style="text-align: right"></td>
        }
    </tr>
    }
</table>