@using DirectAgents.Web.Constants
@model IEnumerable<DirectAgents.Domain.Entities.CPProg.Keyword>

<h2>Keywords</h2>

<table>
    <tr>
        <th>Id</th>
        <th>@Html.ActionLink("Name", "Keywords")</th>
        <th>ExternalId</th>
        <th>@Html.ActionLink("Strategy", "Keywords", new { sort = OrderBy.StrategyName })</th>
        <th>@Html.ActionLink("AdSet", "Keywords", new { sort = OrderBy.AdSetName })</th>
        <th>@Html.ActionLink("Strategy Type", "Keywords", new { sort = OrderBy.StrategyType })</th>
    </tr>
    @foreach (var keyword in Model)
    {
        <tr>
            <td>@keyword.Id</td>
            <td>@keyword.Name</td>
            <td>@keyword.ExternalId</td>
            <td>@(keyword.Strategy != null ? keyword.Strategy.Name + " (" + Html.ActionLink(keyword.StrategyId.ToString(), "Strategies", new { strategyId = keyword.StrategyId }) + ")" : "")</td>
            <td>@(keyword.AdSet != null ? keyword.AdSet.Name + " (" + Html.ActionLink(keyword.AdSetId.ToString(), "AdSets", new { adSetId = keyword.AdSetId }) + ")" : "")</td>
            <td>@(keyword.Strategy != null && keyword.Strategy.Type != null ? keyword.Strategy.Type.Name : "")</td>
        </tr>
    }
</table>

