@model DirectAgents.Domain.Entities.AB.ABClient

<h2>Payments</h2>

Client: @Model.Name
<br /><br />

<table>
    <tr>
        <th></th>
        <th>Date</th>
        <th>Total Received</th>
        <th>General amount</th>
        <th>Jobs value</th>
    </tr>
@foreach (var payment in Model.ClientPayments.OrderBy(x => x.Date))
{
    <tr>
        <td>@Html.ActionLink("edit", "Edit", new { id = payment.Id })</td>
        <td>@payment.Date.ToShortDateString()</td>
        <td style="text-align:right">@payment.TotalValue()</td>
        <td style="text-align:right">@payment.NonJobValue()</td>
        <td style="text-align:right">@payment.JobValue()</td>
    </tr>
}
</table>
[@Html.ActionLink("new payment", "New", new { clientId = Model.Id })]

<br /><br />
Links:<br />
@Html.ActionLink("View/Edit Client", "Show", "Clients", new { id = Model.Id }, null)<br />
@Html.ActionLink("Single Client Detail", "Client", "Dashboard", new { id = Model.Id }, null)
