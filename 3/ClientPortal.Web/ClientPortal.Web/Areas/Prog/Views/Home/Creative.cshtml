@model ClientPortal.Web.Areas.Prog.Models.ReportVM
@{
    ViewBag.Title = "Creative Performance";
}

@Html.Partial("_ClientBar", Model.UserInfo)

<div id="page_content">
	<div id="container">
    	<div id="page_content">
            <section>
                <div class="heading"><p>Campaign to Date: @Model.StartDate.ToShortDateString() thru @Model.EndDate.ToShortDateString()</p></div>
                <div class="grid">

<table class="grid" cellspacing="0" width="100%">
<thead>
    <tr>
        <th class="col_first">Creative</th>
        <th>Media Spend</th>
        <th>Impressions</th>
        <th>Clicks</th>
        <th>CTR</th>
        <th>eCPC</th>
        <th>Click Conv</th>
        <th>View Conv</th>
        <th>Total Conv</th>
        <th>eCPA</th>
        <th>Preview (Hover)</th>
    </tr>
</thead>
<tbody>
@{
    int i = 0;
}
@foreach (var stat in Model.Stats)
{
    var creativeImage = "Seeso_300x600.jpg";
    if (i % 3 > 0)
    {
        creativeImage = (i % 3 == 1) ? "Seeso_728x90.jpg" : "Seeso_Video.jpg";
    }
    <tr class="@(i % 2 == 0 ? "grey_row" : "")">
        <td class="col_first">@stat.AdName</td>
        <td>@stat.MediaSpend.ToString("C")</td>
        <td>@stat.Impressions.ToString("N0")</td>
        <td>@stat.Clicks.ToString("N0")</td>
        <td>@stat.CTR.ToString("0.00%")</td>
        <td>@stat.eCPC.ToString("C")</td>
        <td>@stat.PostClickConv.ToString("N0")</td>
        <td>@stat.PostViewConv.ToString("N0")</td>
        <td>@stat.Conversions.ToString("N0")</td>
        <td>@stat.eCPA.ToString("C")</td>
        <td>
            <a class="thumbnail" href="#">
                <img src="~/Images/creativethumb.gif" alt="Bevel" border="0">
                <span><img src="~/Images/@creativeImage"></span>
            </a>
        </td>
    </tr>
    i++;
}
</tbody>
</table>
<style type="text/css">
    .grid td {
        padding: 10px 5px;
    }
    .thumbnail span {
        position: absolute;
        padding: 0px;
        /*left: -400px;*/
        /*top: 100px;
        right:100px;*/
        border: 0px solid #666;
        visibility: hidden;
        color: black;
        text-decoration: none;
    }
    .thumbnail:hover span {
        visibility: visible;
        top: 100px;
        right: 100px;
        }
</style>

                </div>
            </section>
        </div>
    </div>
</div>

@section scripts {
<script>
    $(document).ready(function () {
        //$("#panelbar").kendoPanelBar({
        //    select: onSelect
        //});
    });

    function onSelect(e) {
        $("#panelbar").data("kendoPanelBar").clearSelection();
    }

    function ExpandAll(expand) {
        if (expand) {
            $("#aExpandAll").hide();
            $("#aCollapseAll").show();
            $("#panelbar").data("kendoPanelBar").expand($("#panelbar .k-item"), false);
        } else {
            $("#aExpandAll").show();
            $("#aCollapseAll").hide();
            $("#panelbar").data("kendoPanelBar").collapse($("#panelbar .k-item"), false);
        }
    }
</script>
}