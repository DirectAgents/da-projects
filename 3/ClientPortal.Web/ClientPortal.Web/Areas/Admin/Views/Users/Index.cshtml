@model IEnumerable<ClientPortal.Web.Areas.Admin.Models.UserVM>
@{
    var ajaxOptions = RazorHelpers.GetAjaxOptions("usersTab");
}

@Ajax.ActionLink("Refresh", "Index", ajaxOptions)

<table border="1">
    <tr>
        <th colspan="2">Id&nbsp;&nbsp;Logo?</th>
        <th>Username</th>
        <th>CakeAdvertiser</th>
        <th>SearchProfile</th>
        <th>Programmatic</th>
    </tr>
@foreach (var u in Model)
{
    <tr>
        <td>@u.UserProfile.UserId</td>
        <td>@(u.UserProfile.ClientInfo != null && u.UserProfile.ClientInfo.Logo != null ? "Y" : "")</td>
        <td>
            @Ajax.ActionLink(u.UserProfile.UserName, "Setup", new { id = u.UserProfile.UserId }, ajaxOptions)
        </td>
        <td>@(u.CakeAdvertiser == null ? "" : u.CakeAdvertiser.AdvertiserName)</td>
        <td>@(u.UserProfile.SearchProfile == null ? "" : u.UserProfile.SearchProfile.SearchProfileName)</td>
        <td>@(u.ProgAdvertiser == null ? "" : u.ProgAdvertiser.Name)</td>
    </tr>
}
</table>
<br />
@* new user? *@