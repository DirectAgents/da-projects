@model ClientPortal.Data.Contexts.CampaignDrop
@{
    string from = (string)ViewData["from"];
}

<h3>Create Drop</h3>

@using (Ajax.BeginForm(new AjaxOptions { })) //UpdateTargetId =
{
    @Html.ValidationSummary()

    <fieldset>
        <legend>Campaign Drop</legend>
        @Html.HiddenFor(m => m.CampaignId)
        <table>
            <tr>
                <td>@Html.Label("Campaign")</td>
                <td>@Html.DisplayFor(m => m.Campaign.CampaignName)</td>
            </tr>
            <tr>
                <td>@Html.Label("Affiliate")</td>
                <td>@Html.DisplayFor(m => m.Campaign.Affiliate.AffiliateName)</td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.Date)</td>
                <td>@Html.TextBoxFor(m => m.Date, "{0:d}")</td>
            </tr>
            <tr>
                <td>@Html.Label("Creative")</td>
                <td>@Html.EditorFor(_ => ViewData["Creatives"], "CreativeDropDown", "CreativeId")</td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.Subject)</td>
                <td>@Html.EditorFor(m => m.Subject)</td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.Cost)</td>
                <td>@Html.EditorFor(m => m.Cost)</td>
            </tr>
        </table>

        <br />
        <input type="submit" value="Create Drop" />
        &nbsp;
        @if (from == "offer") {
            @Html.ActionLink("Cancel", "Show", "Offers", new { id = Model.Campaign.OfferId }, null)
        } else if (from == "campaigns") {
            @Html.ActionLink("Cancel", "Index", "Campaigns", new { offerid = Model.Campaign.OfferId }, null)
        } else {
            @Html.ActionLink("Cancel", "Show", "Campaigns", new { id = Model.CampaignId }, null)
        }
    </fieldset>
}