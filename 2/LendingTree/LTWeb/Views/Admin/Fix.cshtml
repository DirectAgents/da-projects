@model LTWeb.Lead

@{
    ViewBag.Title = "Admin";
    Layout = null;    
}

@using (Ajax.BeginForm(new AjaxOptions { OnSuccess = "Refresh", OnFailure = "ErrorAndRefresh" }))
{
    <fieldset>
        <legend>Response / Request</legend>
        @Html.TextAreaFor(m => m.ResponseContent, 5, 25, new { style = "width: 100%; border: 1px solid black; background-color: lightpink" })
        @Html.TextAreaFor(m => m.RequestContent, 20, 25, new { style = "width: 100%; border: 1px solid black;" })
        <input type="submit" value="Resend" />
    </fieldset>
}

<script>
    function Refresh() {
        $('#leadsGrid').data('kendoGrid').dataSource.read();
    }
    function ErrorAndRefresh() {
        alert('error');
        Refresh();
    }
</script>
